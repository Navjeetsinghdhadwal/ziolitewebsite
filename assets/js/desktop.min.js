function seeWinSize(){alert($(window).width()+" | "+$(window).height())}window.Modernizr=function(t,e,i){function n(t){b.cssText=t}function o(t,e){return n(T.join(t+";")+(e||""))}function s(t,e){return typeof t===e}function r(t,e){return!!~(""+t).indexOf(e)}function a(t,e){for(var n in t){var o=t[n];if(!r(o,"-")&&b[o]!==i)return"pfx"!=e||o}return!1}function l(t,e,n){for(var o in t){var r=e[t[o]];if(r!==i)return n===!1?t[o]:s(r,"function")?r.bind(n||e):r}return!1}function c(t,e,i){var n=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+k.join(n+" ")+n).split(" ");return s(e,"string")||s(e,"undefined")?a(o,e):(o=(t+" "+C.join(n+" ")+n).split(" "),l(o,e,i))}function h(){f.input=function(i){for(var n=0,o=i.length;n<o;n++)H[i[n]]=i[n]in S;return H.list&&(H.list=!!e.createElement("datalist")&&!!t.HTMLDataListElement),H}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(t){for(var n,o,s,r=0,a=t.length;r<a;r++)S.setAttribute("type",o=t[r]),n="text"!==S.type,n&&(S.value=w,S.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(o)&&S.style.WebkitAppearance!==i?(g.appendChild(S),s=e.defaultView,n=s.getComputedStyle&&"textfield"!==s.getComputedStyle(S,null).WebkitAppearance&&0!==S.offsetHeight,g.removeChild(S)):/^(search|tel)$/.test(o)||(n=/^(url|email)$/.test(o)?S.checkValidity&&S.checkValidity()===!1:S.value!=w)),I[t[r]]=!!n;return I}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var p,u,d="2.8.3",f={},m=!0,g=e.documentElement,v="modernizr",y=e.createElement(v),b=y.style,S=e.createElement("input"),w=":)",x={}.toString,T=" -webkit- -moz- -o- -ms- ".split(" "),A="Webkit Moz O ms",k=A.split(" "),C=A.toLowerCase().split(" "),E={svg:"http://www.w3.org/2000/svg"},P={},I={},H={},z=[],$=z.slice,X=function(t,i,n,o){var s,r,a,l,c=e.createElement("div"),h=e.body,p=h||e.createElement("body");if(parseInt(n,10))for(;n--;)a=e.createElement("div"),a.id=o?o[n]:v+(n+1),c.appendChild(a);return s=["&#173;",'<style id="s',v,'">',t,"</style>"].join(""),c.id=v,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(p)),r=i(c,t),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),g.style.overflow=l),!!r},j=function(e){var i=t.matchMedia||t.msMatchMedia;if(i)return i(e)&&i(e).matches||!1;var n;return X("@media "+e+" { #"+v+" { position: absolute; } }",function(e){n="absolute"==(t.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),n},Y=function(){function t(t,o){o=o||e.createElement(n[t]||"div"),t="on"+t;var r=t in o;return r||(o.setAttribute||(o=e.createElement("div")),o.setAttribute&&o.removeAttribute&&(o.setAttribute(t,""),r=s(o[t],"function"),s(o[t],"undefined")||(o[t]=i),o.removeAttribute(t))),o=null,r}var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return t}(),_={}.hasOwnProperty;u=s(_,"undefined")||s(_.call,"undefined")?function(t,e){return e in t&&s(t.constructor.prototype[e],"undefined")}:function(t,e){return _.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=$.call(arguments,1),n=function(){if(this instanceof n){var o=function(){};o.prototype=e.prototype;var s=new o,r=e.apply(s,i.concat($.call(arguments)));return Object(r)===r?r:s}return e.apply(t,i.concat($.call(arguments)))};return n}),P.flexbox=function(){return c("flexWrap")},P.canvas=function(){var t=e.createElement("canvas");return!!t.getContext&&!!t.getContext("2d")},P.canvastext=function(){return!!f.canvas&&!!s(e.createElement("canvas").getContext("2d").fillText,"function")},P.webgl=function(){return!!t.WebGLRenderingContext},P.touch=function(){var i;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?i=!0:X(["@media (",T.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){i=9===t.offsetTop}),i},P.geolocation=function(){return"geolocation"in navigator},P.postmessage=function(){return!!t.postMessage},P.websqldatabase=function(){return!!t.openDatabase},P.indexedDB=function(){return!!c("indexedDB",t)},P.hashchange=function(){return Y("hashchange",t)&&(e.documentMode===i||e.documentMode>7)},P.history=function(){return!!t.history&&!!history.pushState},P.draganddrop=function(){var t=e.createElement("div");return"draggable"in t||"ondragstart"in t&&"ondrop"in t},P.websockets=function(){return"WebSocket"in t||"MozWebSocket"in t},P.rgba=function(){return n("background-color:rgba(150,255,150,.5)"),r(b.backgroundColor,"rgba")},P.hsla=function(){return n("background-color:hsla(120,40%,100%,.5)"),r(b.backgroundColor,"rgba")||r(b.backgroundColor,"hsla")},P.multiplebgs=function(){return n("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},P.backgroundsize=function(){return c("backgroundSize")},P.borderimage=function(){return c("borderImage")},P.borderradius=function(){return c("borderRadius")},P.boxshadow=function(){return c("boxShadow")},P.textshadow=function(){return""===e.createElement("div").style.textShadow},P.opacity=function(){return o("opacity:.55"),/^0.55$/.test(b.opacity)},P.cssanimations=function(){return c("animationName")},P.csscolumns=function(){return c("columnCount")},P.cssgradients=function(){var t="background-image:",e="gradient(linear,left top,right bottom,from(#9f9),to(white));",i="linear-gradient(left top,#9f9, white);";return n((t+"-webkit- ".split(" ").join(e+t)+T.join(i+t)).slice(0,-t.length)),r(b.backgroundImage,"gradient")},P.cssreflections=function(){return c("boxReflect")},P.csstransforms=function(){return!!c("transform")},P.csstransforms3d=function(){var t=!!c("perspective");return t&&"webkitPerspective"in g.style&&X("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,i){t=9===e.offsetLeft&&3===e.offsetHeight}),t},P.csstransitions=function(){return c("transition")},P.fontface=function(){var t;return X('@font-face {font-family:"font";src:url("https://")}',function(i,n){var o=e.getElementById("smodernizr"),s=o.sheet||o.styleSheet,r=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";t=/src/i.test(r)&&0===r.indexOf(n.split(" ")[0])}),t},P.generatedcontent=function(){var t;return X(["#",v,"{font:0/0 a}#",v,':after{content:"',w,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=e.offsetHeight>=3}),t},P.video=function(){var t=e.createElement("video"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),i.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),i.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(n){}return i},P.audio=function(){var t=e.createElement("audio"),i=!1;try{(i=!!t.canPlayType)&&(i=new Boolean(i),i.ogg=t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),i.mp3=t.canPlayType("audio/mpeg;").replace(/^no$/,""),i.wav=t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),i.m4a=(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(n){}return i},P.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(t){return!1}},P.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(t){return!1}},P.webworkers=function(){return!!t.Worker},P.applicationcache=function(){return!!t.applicationCache},P.svg=function(){return!!e.createElementNS&&!!e.createElementNS(E.svg,"svg").createSVGRect},P.inlinesvg=function(){var t=e.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==E.svg},P.smil=function(){return!!e.createElementNS&&/SVGAnimate/.test(x.call(e.createElementNS(E.svg,"animate")))},P.svgclippaths=function(){return!!e.createElementNS&&/SVGClipPath/.test(x.call(e.createElementNS(E.svg,"clipPath")))};for(var M in P)u(P,M)&&(p=M.toLowerCase(),f[p]=P[M](),z.push((f[p]?"":"no-")+p));return f.input||h(),f.addTest=function(t,e){if("object"==typeof t)for(var n in t)u(t,n)&&f.addTest(n,t[n]);else{if(t=t.toLowerCase(),f[t]!==i)return f;e="function"==typeof e?e():e,"undefined"!=typeof m&&m&&(g.className+=" "+(e?"":"no-")+t),f[t]=e}return f},n(""),y=S=null,function(t,e){function i(t,e){var i=t.createElement("p"),n=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",n.insertBefore(i.lastChild,n.firstChild)}function n(){var t=y.elements;return"string"==typeof t?t.split(" "):t}function o(t){var e=v[t[m]];return e||(e={},g++,t[m]=g,v[g]=e),e}function s(t,i,n){if(i||(i=e),h)return i.createElement(t);n||(n=o(i));var s;return s=n.cache[t]?n.cache[t].cloneNode():f.test(t)?(n.cache[t]=n.createElem(t)).cloneNode():n.createElem(t),!s.canHaveChildren||d.test(t)||s.tagUrn?s:n.frag.appendChild(s)}function r(t,i){if(t||(t=e),h)return t.createDocumentFragment();i=i||o(t);for(var s=i.frag.cloneNode(),r=0,a=n(),l=a.length;r<l;r++)s.createElement(a[r]);return s}function a(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return y.shivMethods?s(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+n().join().replace(/[\w\-]+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(y,e.frag)}function l(t){t||(t=e);var n=o(t);return y.shivCSS&&!c&&!n.hasCSS&&(n.hasCSS=!!i(t,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),h||a(t,n),t}var c,h,p="3.7.0",u=t.html5||{},d=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",g=0,v={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",c="hidden"in t,h=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return"undefined"==typeof t.cloneNode||"undefined"==typeof t.createDocumentFragment||"undefined"==typeof t.createElement}()}catch(i){c=!0,h=!0}}();var y={elements:u.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:p,shivCSS:u.shivCSS!==!1,supportsUnknownElements:h,shivMethods:u.shivMethods!==!1,type:"default",shivDocument:l,createElement:s,createDocumentFragment:r};t.html5=y,l(e)}(this,e),f._version=d,f._prefixes=T,f._domPrefixes=C,f._cssomPrefixes=k,f.mq=j,f.hasEvent=Y,f.testProp=function(t){return a([t])},f.testAllProps=c,f.testStyles=X,f.prefixed=function(t,e,i){return e?c(t,e,i):c(t,"pfx")},g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+z.join(" "):""),f}(this,this.document),function(t,e,i){function n(t){return"[object Function]"==g.call(t)}function o(t){return"string"==typeof t}function s(){}function r(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();y=1,t?t.t?f(function(){("c"==t.t?u.injectCss:u.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):y=0}function l(t,i,n,o,s,l,c){function h(e){if(!d&&r(p.readyState)&&(b.r=d=1,!y&&a(),p.onload=p.onreadystatechange=null,e)){"img"!=t&&f(function(){w.removeChild(p)},50);for(var n in C[i])C[i].hasOwnProperty(n)&&C[i][n].onload()}}var c=c||u.errorTimeout,p=e.createElement(t),d=0,g=0,b={t:n,s:i,e:s,a:l,x:c};1===C[i]&&(g=1,C[i]=[]),"object"==t?p.data=i:(p.src=i,p.type=t),p.width=p.height="0",p.onerror=p.onload=p.onreadystatechange=function(){h.call(this,g)},v.splice(o,0,b),"img"!=t&&(g||2===C[i]?(w.insertBefore(p,S?null:m),f(h,c)):C[i].push(p))}function c(t,e,i,n,s){return y=0,e=e||"j",o(t)?l("c"==e?T:x,t,e,this.i++,i,n,s):(v.splice(this.i++,0,t),1==v.length&&a()),this}function h(){var t=u;return t.loader={load:c,i:0},t}var p,u,d=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],g={}.toString,v=[],y=0,b="MozAppearance"in d.style,S=b&&!!e.createRange().compareNode,w=S?d:m.parentNode,d=t.opera&&"[object Opera]"==g.call(t.opera),d=!!e.attachEvent&&!d,x=b?"object":d?"script":"img",T=d?"script":x,A=Array.isArray||function(t){return"[object Array]"==g.call(t)},k=[],C={},E={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};u=function(t){function e(t){var e,i,n,t=t.split("!"),o=k.length,s=t.pop(),r=t.length,s={url:s,origUrl:s,prefixes:t};for(i=0;i<r;i++)n=t[i].split("="),(e=E[n.shift()])&&(s=e(s,n));for(i=0;i<o;i++)s=k[i](s);return s}function r(t,o,s,r,a){var l=e(t),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(o&&(o=n(o)?o:o[t]||o[r]||o[t.split("/").pop().split("?")[0]]),l.instead?l.instead(t,o,s,r,a):(C[l.url]?l.noexec=!0:C[l.url]=1,s.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":i,l.noexec,l.attrs,l.timeout),(n(o)||n(c))&&s.load(function(){h(),o&&o(l.origUrl,a,r),c&&c(l.origUrl,a,r),C[l.url]=2})))}function a(t,e){function i(t,i){if(t){if(o(t))i||(p=function(){var t=[].slice.call(arguments);u.apply(this,t),d()}),r(t,p,e,0,c);else if(Object(t)===t)for(l in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(l)&&(!i&&!--a&&(n(p)?p=function(){var t=[].slice.call(arguments);u.apply(this,t),d()}:p[l]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(u[l])),r(t[l],p,e,l,c))}else!i&&d()}var a,l,c=!!t.test,h=t.load||t.both,p=t.callback||s,u=p,d=t.complete||s;i(c?t.yep:t.nope,!!h),h&&i(h)}var l,c,p=this.yepnope.loader;if(o(t))r(t,0,p,0);else if(A(t))for(l=0;l<t.length;l++)c=t[l],o(c)?r(c,0,p,0):A(c)?u(c):Object(c)===c&&a(c,p);else Object(t)===t&&a(t,p)},u.addPrefix=function(t,e){E[t]=e},u.addFilter=function(t){k.push(t)},u.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",p=function(){e.removeEventListener("DOMContentLoaded",p,0),e.readyState="complete"},0)),t.yepnope=h(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,n,o,l,c){var h,p,d=e.createElement("script"),o=o||u.errorTimeout;d.src=t;for(p in n)d.setAttribute(p,n[p]);i=c?a:i||s,d.onreadystatechange=d.onload=function(){!h&&r(d.readyState)&&(h=1,i(),d.onload=d.onreadystatechange=null)},f(function(){h||(h=1,i(1))},o),l?d.onload():m.parentNode.insertBefore(d,m)},t.yepnope.injectCss=function(t,i,n,o,r,l){var c,o=e.createElement("link"),i=l?a:i||s;o.href=t,o.rel="stylesheet",o.type="text/css";for(c in n)o.setAttribute(c,n[c]);r||(m.parentNode.insertBefore(o,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Router=t()}}(function(){var define,module,exports;return function t(e,i,n){function o(r,a){if(!i[r]){if(!e[r]){var l="function"==typeof require&&require;if(!a&&l)return l(r,!0);if(s)return s(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[r]={exports:{}};e[r][0].call(h.exports,function(t){var i=e[r][1][t];return o(i?i:t)},h,h.exports,t,e,i,n)}return i[r].exports}for(var s="function"==typeof require&&require,r=0;r<n.length;r++)o(n[r]);return o}({1:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,o,s,r,a=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,r=[],"[object Array]"===Object.prototype.toString.apply(l)){for(s=l.length,i=0;s>i;i+=1)r[i]=str(i,l)||"null";return o=0===r.length?"[]":gap?"[\n"+gap+r.join(",\n"+gap)+"\n"+a+"]":"["+r.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(s=rep.length,i=0;s>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],o=str(n,l),o&&r.push(quote(n)+(gap?": ":":")+o));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(o=str(n,l),o&&r.push(quote(n)+(gap?": ":":")+o));return o=0===r.length?"{}":gap?"{\n"+gap+r.join(",\n"+gap)+"\n"+a+"}":"{"+r.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(t){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,!e||"function"==typeof e||"object"==typeof e&&"number"==typeof e.length)return str("",{"":t});throw new Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,o=t[e];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n=walk(o,i),void 0!==n?o[i]=n:delete o[i]);return reviver.call(t,e,o)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(t,e){"use strict";var i=t.History=t.History||{};if("undefined"!=typeof i.Adapter)throw new Error("History.js Adapter has already been loaded...");i.Adapter={handlers:{},_uid:1,uid:function(t){return t._uid||(t._uid=i.Adapter._uid++)},bind:function(t,e,n){var o=i.Adapter.uid(t);i.Adapter.handlers[o]=i.Adapter.handlers[o]||{},i.Adapter.handlers[o][e]=i.Adapter.handlers[o][e]||[],i.Adapter.handlers[o][e].push(n),t["on"+e]=function(t,e){return function(n){i.Adapter.trigger(t,e,n)}}(t,e)},trigger:function(t,e,n){n=n||{};var o,s,r=i.Adapter.uid(t);for(i.Adapter.handlers[r]=i.Adapter.handlers[r]||{},i.Adapter.handlers[r][e]=i.Adapter.handlers[r][e]||[],o=0,s=i.Adapter.handlers[r][e].length;s>o;++o)i.Adapter.handlers[r][e][o].apply(this,[n])},extractEventData:function(t,i){var n=i&&i[t]||e;return n},onDomLoad:function(e){var i=t.setTimeout(function(){e()},2e3);t.onload=function(){clearTimeout(i),e()}}},"undefined"!=typeof i.init&&i.init()}(window),function(t,e){"use strict";var i=t.document,n=t.setTimeout||n,o=t.clearTimeout||o,s=t.setInterval||s,r=t.History=t.History||{};if("undefined"!=typeof r.initHtml4)throw new Error("History.js HTML4 Support has already been loaded...");r.initHtml4=function(){return"undefined"==typeof r.initHtml4.initialized&&(r.initHtml4.initialized=!0,r.enabled=!0,r.savedHashes=[],r.isLastHash=function(t){var e,i=r.getHashByIndex();return e=t===i},r.isHashEqual=function(t,e){return t=encodeURIComponent(t).replace(/%25/g,"%"),e=encodeURIComponent(e).replace(/%25/g,"%"),t===e},r.saveHash=function(t){return!r.isLastHash(t)&&(r.savedHashes.push(t),!0)},r.getHashByIndex=function(t){var e=null;return e="undefined"==typeof t?r.savedHashes[r.savedHashes.length-1]:0>t?r.savedHashes[r.savedHashes.length+t]:r.savedHashes[t]},r.discardedHashes={},r.discardedStates={},r.discardState=function(t,e,i){var n,o=r.getHashByState(t);return n={discardedState:t,backState:i,forwardState:e},r.discardedStates[o]=n,!0},r.discardHash=function(t,e,i){var n={discardedHash:t,backState:i,forwardState:e};return r.discardedHashes[t]=n,!0},r.discardedState=function(t){var e,i=r.getHashByState(t);return e=r.discardedStates[i]||!1},r.discardedHash=function(t){var e=r.discardedHashes[t]||!1;return e},r.recycleState=function(t){var e=r.getHashByState(t);return r.discardedState(t)&&delete r.discardedStates[e],!0},r.emulated.hashChange&&(r.hashChangeInit=function(){r.checkerFunction=null;var e,n,o,a,l="",c=Boolean(r.getHash());return r.isInternetExplorer()?(e="historyjs-iframe",n=i.createElement("iframe"),n.setAttribute("id",e),n.setAttribute("src","#"),n.style.display="none",i.body.appendChild(n),n.contentWindow.document.open(),n.contentWindow.document.close(),o="",a=!1,r.checkerFunction=function(){if(a)return!1;a=!0;var e=r.getHash(),i=r.getHash(n.contentWindow.document);return e!==l?(l=e,i!==e&&(o=i=e,n.contentWindow.document.open(),n.contentWindow.document.close(),n.contentWindow.document.location.hash=r.escapeHash(e)),r.Adapter.trigger(t,"hashchange")):i!==o&&(o=i,c&&""===i?r.back():r.setHash(i,!1)),a=!1,!0}):r.checkerFunction=function(){var e=r.getHash()||"";return e!==l&&(l=e,r.Adapter.trigger(t,"hashchange")),!0},r.intervalList.push(s(r.checkerFunction,r.options.hashChangeInterval)),!0},r.Adapter.onDomLoad(r.hashChangeInit)),r.emulated.pushState&&(r.onHashChange=function(e){var i,n=e&&e.newURL||r.getLocationHref(),o=r.getHashByUrl(n),s=null,a=null;return r.isLastHash(o)?(r.busy(!1),!1):(r.doubleCheckComplete(),r.saveHash(o),o&&r.isTraditionalAnchor(o)?(r.Adapter.trigger(t,"anchorchange"),r.busy(!1),!1):(s=r.extractState(r.getFullUrl(o||r.getLocationHref()),!0),r.isLastSavedState(s)?(r.busy(!1),!1):(a=r.getHashByState(s),i=r.discardedState(s),i?(r.getHashByIndex(-2)===r.getHashByState(i.forwardState)?r.back(!1):r.forward(!1),!1):(r.pushState(s.data,s.title,encodeURI(s.url),!1),!0))))},r.Adapter.bind(t,"hashchange",r.onHashChange),r.pushState=function(e,i,n,o){if(n=encodeURI(n).replace(/%25/g,"%"),r.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(o!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.pushState,args:arguments,queue:o}),!1;r.busy(!0);var s=r.createStateObject(e,i,n),a=r.getHashByState(s),l=r.getState(!1),c=r.getHashByState(l),h=r.getHash(),p=r.expectedStateId==s.id;return r.storeState(s),r.expectedStateId=s.id,r.recycleState(s),r.setTitle(s),a===c?(r.busy(!1),!1):(r.saveState(s),p||r.Adapter.trigger(t,"statechange"),!r.isHashEqual(a,h)&&!r.isHashEqual(a,r.getShortUrl(r.getLocationHref()))&&r.setHash(a,!1),r.busy(!1),!0)},r.replaceState=function(e,i,n,o){if(n=encodeURI(n).replace(/%25/g,"%"),r.getHashByUrl(n))throw new Error("History.js does not support states with fragment-identifiers (hashes/anchors).");if(o!==!1&&r.busy())return r.pushQueue({scope:r,callback:r.replaceState,args:arguments,queue:o}),!1;r.busy(!0);var s=r.createStateObject(e,i,n),a=r.getHashByState(s),l=r.getState(!1),c=r.getHashByState(l),h=r.getStateByIndex(-2);return r.discardState(l,s,h),a===c?(r.storeState(s),r.expectedStateId=s.id,r.recycleState(s),r.setTitle(s),r.saveState(s),r.Adapter.trigger(t,"statechange"),r.busy(!1)):r.pushState(s.data,s.title,s.url,!1),!0}),void(r.emulated.pushState&&r.getHash()&&!r.emulated.hashChange&&r.Adapter.onDomLoad(function(){r.Adapter.trigger(t,"hashchange")})))},"undefined"!=typeof r.init&&r.init()}(window),function(t,e){"use strict";var i=t.console||e,n=t.document,o=t.navigator,s=!1,r=t.setTimeout,a=t.clearTimeout,l=t.setInterval,c=t.clearInterval,h=t.JSON,p=t.alert,u=t.History=t.History||{},d=t.history;try{s=t.sessionStorage,s.setItem("TEST","1"),s.removeItem("TEST")}catch(f){s=!1}if(h.stringify=h.stringify||h.encode,h.parse=h.parse||h.decode,"undefined"!=typeof u.init)throw new Error("History.js Core has already been loaded...");u.init=function(t){return"undefined"!=typeof u.Adapter&&("undefined"!=typeof u.initCore&&u.initCore(),"undefined"!=typeof u.initHtml4&&u.initHtml4(),!0)},u.initCore=function(f){if("undefined"!=typeof u.initCore.initialized)return!1;if(u.initCore.initialized=!0,u.options=u.options||{},u.options.hashChangeInterval=u.options.hashChangeInterval||100,u.options.safariPollInterval=u.options.safariPollInterval||500,u.options.doubleCheckInterval=u.options.doubleCheckInterval||500,u.options.disableSuid=u.options.disableSuid||!1,u.options.storeInterval=u.options.storeInterval||1e3,u.options.busyDelay=u.options.busyDelay||250,u.options.debug=u.options.debug||!1,u.options.initialTitle=u.options.initialTitle||n.title,u.options.html4Mode=u.options.html4Mode||!1,u.options.delayInit=u.options.delayInit||!1,u.intervalList=[],u.clearAllIntervals=function(){var t,e=u.intervalList;if("undefined"!=typeof e&&null!==e){for(t=0;t<e.length;t++)c(e[t]);u.intervalList=null}},u.debug=function(){(u.options.debug||!1)&&u.log.apply(u,arguments)},u.log=function(){var t,e,o,s,r,a="undefined"!=typeof i&&"undefined"!=typeof i.log&&"undefined"!=typeof i.log.apply,l=n.getElementById("log");for(a?(s=Array.prototype.slice.call(arguments),t=s.shift(),"undefined"!=typeof i.debug?i.debug.apply(i,[t,s]):i.log.apply(i,[t,s])):t="\n"+arguments[0]+"\n",e=1,o=arguments.length;o>e;++e){if(r=arguments[e],"object"==typeof r&&"undefined"!=typeof h)try{r=h.stringify(r)}catch(c){}t+="\n"+r+"\n"}return l?(l.value+=t+"\n-----\n",l.scrollTop=l.scrollHeight-l.clientHeight):a||p(t),!0},u.getInternetExplorerMajorVersion=function(){var t=u.getInternetExplorerMajorVersion.cached="undefined"!=typeof u.getInternetExplorerMajorVersion.cached?u.getInternetExplorerMajorVersion.cached:function(){for(var t=3,e=n.createElement("div"),i=e.getElementsByTagName("i");(e.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->")&&i[0];);return t>4&&t}();return t},u.isInternetExplorer=function(){var t=u.isInternetExplorer.cached="undefined"!=typeof u.isInternetExplorer.cached?u.isInternetExplorer.cached:Boolean(u.getInternetExplorerMajorVersion());return t},u.options.html4Mode?u.emulated={pushState:!0,hashChange:!0}:u.emulated={pushState:!Boolean(t.history&&t.history.pushState&&t.history.replaceState&&!/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(o.userAgent)&&!/AppleWebKit\/5([0-2]|3[0-2])/i.test(o.userAgent)),hashChange:Boolean(!("onhashchange"in t||"onhashchange"in n)||u.isInternetExplorer()&&u.getInternetExplorerMajorVersion()<8)},u.enabled=!u.emulated.pushState,u.bugs={setHash:Boolean(!u.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),safariPoll:Boolean(!u.emulated.pushState&&"Apple Computer, Inc."===o.vendor&&/AppleWebKit\/5([0-2]|3[0-3])/.test(o.userAgent)),ieDoubleCheck:Boolean(u.isInternetExplorer()&&u.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(u.isInternetExplorer()&&u.getInternetExplorerMajorVersion()<7)},u.isEmptyObject=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},u.cloneObject=function(t){var e,i;return t?(e=h.stringify(t),i=h.parse(e)):i={},i},u.getRootUrl=function(){var t=n.location.protocol+"//"+(n.location.hostname||n.location.host);return n.location.port&&(t+=":"+n.location.port),t+="/"},u.getBaseHref=function(){var t=n.getElementsByTagName("base"),e=null,i="";return 1===t.length&&(e=t[0],i=e.href.replace(/[^\/]+$/,"")),i=i.replace(/\/+$/,""),i&&(i+="/"),i},u.getBaseUrl=function(){var t=u.getBaseHref()||u.getBasePageUrl()||u.getRootUrl();return t},u.getPageUrl=function(){var t,e=u.getState(!1,!1),i=(e||{}).url||u.getLocationHref();return t=i.replace(/\/+$/,"").replace(/[^\/]+$/,function(t,e,i){return/\./.test(t)?t:t+"/"})},u.getBasePageUrl=function(){var t=u.getLocationHref().replace(/[#\?].*/,"").replace(/[^\/]+$/,function(t,e,i){return/[^\/]$/.test(t)?"":t}).replace(/\/+$/,"")+"/";return t},u.getFullUrl=function(t,e){var i=t,n=t.substring(0,1);return e="undefined"==typeof e||e,/[a-z]+\:\/\//.test(t)||(i="/"===n?u.getRootUrl()+t.replace(/^\/+/,""):"#"===n?u.getPageUrl().replace(/#.*/,"")+t:"?"===n?u.getPageUrl().replace(/[\?#].*/,"")+t:e?u.getBaseUrl()+t.replace(/^(\.\/)+/,""):u.getBasePageUrl()+t.replace(/^(\.\/)+/,"")),i.replace(/\#$/,"")},u.getShortUrl=function(t){var e=t,i=u.getBaseUrl(),n=u.getRootUrl();return u.emulated.pushState&&(e=e.replace(i,"")),e=e.replace(n,"/"),u.isTraditionalAnchor(e)&&(e="./"+e),e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"")},u.getLocationHref=function(t){return t=t||n,t.URL===t.location.href?t.location.href:t.location.href===decodeURIComponent(t.URL)?t.URL:t.location.hash&&decodeURIComponent(t.location.href.replace(/^[^#]+/,""))===t.location.hash?t.location.href:-1==t.URL.indexOf("#")&&-1!=t.location.href.indexOf("#")?t.location.href:t.URL||t.location.href},u.store={},u.idToState=u.idToState||{},u.stateToId=u.stateToId||{},u.urlToId=u.urlToId||{},u.storedStates=u.storedStates||[],u.savedStates=u.savedStates||[],u.normalizeStore=function(){u.store.idToState=u.store.idToState||{},u.store.urlToId=u.store.urlToId||{},u.store.stateToId=u.store.stateToId||{}},u.getState=function(t,e){"undefined"==typeof t&&(t=!0),"undefined"==typeof e&&(e=!0);var i=u.getLastSavedState();return!i&&e&&(i=u.createStateObject()),t&&(i=u.cloneObject(i),i.url=i.cleanUrl||i.url),i},u.getIdByState=function(t){var e,i=u.extractId(t.url);if(!i)if(e=u.getStateString(t),"undefined"!=typeof u.stateToId[e])i=u.stateToId[e];else if("undefined"!=typeof u.store.stateToId[e])i=u.store.stateToId[e];else{for(;i=(new Date).getTime()+String(Math.random()).replace(/\D/g,""),"undefined"!=typeof u.idToState[i]||"undefined"!=typeof u.store.idToState[i];);u.stateToId[e]=i,u.idToState[i]=t}return i},u.normalizeState=function(t){var e,i;return t&&"object"==typeof t||(t={}),"undefined"!=typeof t.normalized?t:(t.data&&"object"==typeof t.data||(t.data={}),e={},e.normalized=!0,e.title=t.title||"",e.url=u.getFullUrl(t.url?t.url:u.getLocationHref()),e.hash=u.getShortUrl(e.url),e.data=u.cloneObject(t.data),e.id=u.getIdByState(e),e.cleanUrl=e.url.replace(/\??\&_suid.*/,""),e.url=e.cleanUrl,i=!u.isEmptyObject(e.data),(e.title||i)&&u.options.disableSuid!==!0&&(e.hash=u.getShortUrl(e.url).replace(/\??\&_suid.*/,""),/\?/.test(e.hash)||(e.hash+="?"),e.hash+="&_suid="+e.id),e.hashedUrl=u.getFullUrl(e.hash),(u.emulated.pushState||u.bugs.safariPoll)&&u.hasUrlDuplicate(e)&&(e.url=e.hashedUrl),e)},u.createStateObject=function(t,e,i){var n={data:t,title:e,url:i};return n=u.normalizeState(n)},u.getStateById=function(t){t=String(t);var i=u.idToState[t]||u.store.idToState[t]||e;return i},u.getStateString=function(t){var e,i,n;return e=u.normalizeState(t),i={data:e.data,title:t.title,url:t.url},n=h.stringify(i)},u.getStateId=function(t){var e,i;return e=u.normalizeState(t),i=e.id},u.getHashByState=function(t){var e,i;return e=u.normalizeState(t),i=e.hash},u.extractId=function(t){var e,i,n,o;return o=-1!=t.indexOf("#")?t.split("#")[0]:t,i=/(.*)\&_suid=([0-9]+)$/.exec(o),n=i?i[1]||t:t,e=i?String(i[2]||""):"",e||!1},u.isTraditionalAnchor=function(t){var e=!/[\/\?\.]/.test(t);return e},u.extractState=function(t,e){var i,n,o=null;return e=e||!1,i=u.extractId(t),i&&(o=u.getStateById(i)),o||(n=u.getFullUrl(t),i=u.getIdByUrl(n)||!1,i&&(o=u.getStateById(i)),!o&&e&&!u.isTraditionalAnchor(t)&&(o=u.createStateObject(null,null,n))),o},u.getIdByUrl=function(t){var i=u.urlToId[t]||u.store.urlToId[t]||e;return i},u.getLastSavedState=function(){return u.savedStates[u.savedStates.length-1]||e;
},u.getLastStoredState=function(){return u.storedStates[u.storedStates.length-1]||e},u.hasUrlDuplicate=function(t){var e,i=!1;return e=u.extractState(t.url),i=e&&e.id!==t.id},u.storeState=function(t){return u.urlToId[t.url]=t.id,u.storedStates.push(u.cloneObject(t)),t},u.isLastSavedState=function(t){var e,i,n,o=!1;return u.savedStates.length&&(e=t.id,i=u.getLastSavedState(),n=i.id,o=e===n),o},u.saveState=function(t){return!u.isLastSavedState(t)&&(u.savedStates.push(u.cloneObject(t)),!0)},u.getStateByIndex=function(t){var e=null;return e="undefined"==typeof t?u.savedStates[u.savedStates.length-1]:0>t?u.savedStates[u.savedStates.length+t]:u.savedStates[t]},u.getCurrentIndex=function(){var t=null;return t=u.savedStates.length<1?0:u.savedStates.length-1},u.getHash=function(t){var e,i=u.getLocationHref(t);return e=u.getHashByUrl(i)},u.unescapeHash=function(t){var e=u.normalizeHash(t);return e=decodeURIComponent(e)},u.normalizeHash=function(t){var e=t.replace(/[^#]*#/,"").replace(/#.*/,"");return e},u.setHash=function(t,e){var i,o;return e!==!1&&u.busy()?(u.pushQueue({scope:u,callback:u.setHash,args:arguments,queue:e}),!1):(u.busy(!0),i=u.extractState(t,!0),i&&!u.emulated.pushState?u.pushState(i.data,i.title,i.url,!1):u.getHash()!==t&&(u.bugs.setHash?(o=u.getPageUrl(),u.pushState(null,null,o+"#"+t,!1)):n.location.hash=t),u)},u.escapeHash=function(e){var i=u.normalizeHash(e);return i=t.encodeURIComponent(i),u.bugs.hashEscape||(i=i.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")),i},u.getHashByUrl=function(t){var e=String(t).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");return e=u.unescapeHash(e)},u.setTitle=function(t){var e,i=t.title;i||(e=u.getStateByIndex(0),e&&e.url===t.url&&(i=e.title||u.options.initialTitle));try{n.getElementsByTagName("title")[0].innerHTML=i.replace("<","&lt;").replace(">","&gt;").replace(" & "," &amp; ")}catch(o){}return n.title=i,u},u.queues=[],u.busy=function(t){if("undefined"!=typeof t?u.busy.flag=t:"undefined"==typeof u.busy.flag&&(u.busy.flag=!1),!u.busy.flag){a(u.busy.timeout);var e=function(){var t,i,n;if(!u.busy.flag)for(t=u.queues.length-1;t>=0;--t)i=u.queues[t],0!==i.length&&(n=i.shift(),u.fireQueueItem(n),u.busy.timeout=r(e,u.options.busyDelay))};u.busy.timeout=r(e,u.options.busyDelay)}return u.busy.flag},u.busy.flag=!1,u.fireQueueItem=function(t){return t.callback.apply(t.scope||u,t.args||[])},u.pushQueue=function(t){return u.queues[t.queue||0]=u.queues[t.queue||0]||[],u.queues[t.queue||0].push(t),u},u.queue=function(t,e){return"function"==typeof t&&(t={callback:t}),"undefined"!=typeof e&&(t.queue=e),u.busy()?u.pushQueue(t):u.fireQueueItem(t),u},u.clearQueue=function(){return u.busy.flag=!1,u.queues=[],u},u.stateChanged=!1,u.doubleChecker=!1,u.doubleCheckComplete=function(){return u.stateChanged=!0,u.doubleCheckClear(),u},u.doubleCheckClear=function(){return u.doubleChecker&&(a(u.doubleChecker),u.doubleChecker=!1),u},u.doubleCheck=function(t){return u.stateChanged=!1,u.doubleCheckClear(),u.bugs.ieDoubleCheck&&(u.doubleChecker=r(function(){return u.doubleCheckClear(),u.stateChanged||t(),!0},u.options.doubleCheckInterval)),u},u.safariStatePoll=function(){var e,i=u.extractState(u.getLocationHref());return u.isLastSavedState(i)?void 0:(e=i,e||(e=u.createStateObject()),u.Adapter.trigger(t,"popstate"),u)},u.back=function(t){return t!==!1&&u.busy()?(u.pushQueue({scope:u,callback:u.back,args:arguments,queue:t}),!1):(u.busy(!0),u.doubleCheck(function(){u.back(!1)}),d.go(-1),!0)},u.forward=function(t){return t!==!1&&u.busy()?(u.pushQueue({scope:u,callback:u.forward,args:arguments,queue:t}),!1):(u.busy(!0),u.doubleCheck(function(){u.forward(!1)}),d.go(1),!0)},u.go=function(t,e){var i;if(t>0)for(i=1;t>=i;++i)u.forward(e);else{if(!(0>t))throw new Error("History.go: History.go requires a positive or negative integer passed.");for(i=-1;i>=t;--i)u.back(e)}return u},u.emulated.pushState){var m=function(){};u.pushState=u.pushState||m,u.replaceState=u.replaceState||m}else u.onPopState=function(e,i){var n,o,s=!1,r=!1;return u.doubleCheckComplete(),n=u.getHash(),n?(o=u.extractState(n||u.getLocationHref(),!0),o?u.replaceState(o.data,o.title,o.url,!1):(u.Adapter.trigger(t,"anchorchange"),u.busy(!1)),u.expectedStateId=!1,!1):(s=u.Adapter.extractEventData("state",e,i)||!1,r=s?u.getStateById(s):u.expectedStateId?u.getStateById(u.expectedStateId):u.extractState(u.getLocationHref()),r||(r=u.createStateObject(null,null,u.getLocationHref())),u.expectedStateId=!1,u.isLastSavedState(r)?(u.busy(!1),!1):(u.storeState(r),u.saveState(r),u.setTitle(r),u.Adapter.trigger(t,"statechange"),u.busy(!1),!0))},u.Adapter.bind(t,"popstate",u.onPopState),u.pushState=function(e,i,n,o){if(u.getHashByUrl(n)&&u.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&u.busy())return u.pushQueue({scope:u,callback:u.pushState,args:arguments,queue:o}),!1;u.busy(!0);var s=u.createStateObject(e,i,n);return u.isLastSavedState(s)?u.busy(!1):(u.storeState(s),u.expectedStateId=s.id,d.pushState(s.id,s.title,s.url),u.Adapter.trigger(t,"popstate")),!0},u.replaceState=function(e,i,n,o){if(u.getHashByUrl(n)&&u.emulated.pushState)throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).");if(o!==!1&&u.busy())return u.pushQueue({scope:u,callback:u.replaceState,args:arguments,queue:o}),!1;u.busy(!0);var s=u.createStateObject(e,i,n);return u.isLastSavedState(s)?u.busy(!1):(u.storeState(s),u.expectedStateId=s.id,d.replaceState(s.id,s.title,s.url),u.Adapter.trigger(t,"popstate")),!0};if(s){try{u.store=h.parse(s.getItem("History.store"))||{}}catch(g){u.store={}}u.normalizeStore()}else u.store={},u.normalizeStore();u.Adapter.bind(t,"unload",u.clearAllIntervals),u.saveState(u.storeState(u.extractState(u.getLocationHref(),!0))),s&&(u.onUnload=function(){var t,e,i;try{t=h.parse(s.getItem("History.store"))||{}}catch(n){t={}}t.idToState=t.idToState||{},t.urlToId=t.urlToId||{},t.stateToId=t.stateToId||{};for(e in u.idToState)u.idToState.hasOwnProperty(e)&&(t.idToState[e]=u.idToState[e]);for(e in u.urlToId)u.urlToId.hasOwnProperty(e)&&(t.urlToId[e]=u.urlToId[e]);for(e in u.stateToId)u.stateToId.hasOwnProperty(e)&&(t.stateToId[e]=u.stateToId[e]);u.store=t,u.normalizeStore(),i=h.stringify(t);try{s.setItem("History.store",i)}catch(o){if(o.code!==DOMException.QUOTA_EXCEEDED_ERR)throw o;s.length&&(s.removeItem("History.store"),s.setItem("History.store",i))}},u.intervalList.push(l(u.onUnload,u.options.storeInterval)),u.Adapter.bind(t,"beforeunload",u.onUnload),u.Adapter.bind(t,"unload",u.onUnload)),u.emulated.pushState||(u.bugs.safariPoll&&u.intervalList.push(l(u.safariStatePoll,u.options.safariPollInterval)),("Apple Computer, Inc."===o.vendor||"Mozilla"===(o.appCodeName||""))&&(u.Adapter.bind(t,"hashchange",function(){u.Adapter.trigger(t,"popstate")}),u.getHash()&&u.Adapter.onDomLoad(function(){u.Adapter.trigger(t,"hashchange")})))},(!u.options||!u.options.delayInit)&&u.init()}(window)},{}],2:[function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();t("../node_modules/history.js/scripts/bundled/html4+html5/native.history.js");var r=/\((.*?)\)/g,a=/[\-{}\[\]+?.,\\\^$|#\s]/g,l=/(\(\?)?:\w+/g,c=/\*\w+/g,h=function(){function t(){var e=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o(this,t),this.routes=i,History.Adapter.bind(window,"statechange",function(){return e.checkRoutes(History.getState())})}return s(t,[{key:"route",value:function(t,e){t=t.replace(a,"\\$&").replace(r,"(?:$1)?").replace(l,function(t,e){return e?t:"([^/?]+)"}).replace(c,"([^?].*?)"),this.routes["^"+t+"(?:\\?([\\s\\S]*))?$"]=e}},{key:"checkRoutes",value:function(t){var e=this,i=t.data.url||t.hash,o=void 0===t.data.trigger||t.data.trigger;o&&Object.keys(this.routes).forEach(function(t){var o,s=new RegExp(t);s.test(i)&&(o=e.routes)[t].apply(o,n(s.exec(i).slice(1)))})}},{key:"navigate",value:function(t){var e=arguments.length<=1||void 0===arguments[1]||arguments[1],i=!(arguments.length<=2||void 0===arguments[2])&&arguments[2],n=arguments.length<=3||void 0===arguments[3]?null:arguments[3];return History[i?"replaceState":"pushState"]({url:t,trigger:e},n,t)}},{key:"start",value:function(t){var e=t?{data:{url:t}}:History.getState();this.checkRoutes(e)}},{key:"go",value:function(t){History.go(t)}},{key:"back",value:function(){History.back()}}]),t}();i["default"]=h,e.exports=i["default"]},{"../node_modules/history.js/scripts/bundled/html4+html5/native.history.js":1}]},{},[2])(2)}),/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */
function(t,e,i){function n(i,n){this.wrapper="string"==typeof i?e.querySelector(i):i,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!a.hasPointer,disableTouch:a.hasPointer||!a.hasTouch,disableMouse:a.hasPointer||a.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof t.onmousedown};for(var o in n)this.options[o]=n[o];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,i,n){var o=e.createElement("div"),s=e.createElement("div");return n===!0&&(o.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(n===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(n===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",i||(o.style.pointerEvents="none"),o.appendChild(s),o}function s(i,n){this.wrapper="string"==typeof n.el?e.querySelector(n.el):n.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=i,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in n)this.options[o]=n[o];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade){this.wrapperStyle[a.style.transform]=this.scroller.translateZ;var s=a.style.transitionDuration;if(!s)return;this.wrapperStyle[s]=a.isBadAndroid?"0.0001ms":"0ms";var l=this;a.isBadAndroid&&r(function(){"0.0001ms"===l.wrapperStyle[s]&&(l.wrapperStyle[s]="0s")}),this.wrapperStyle.opacity="0"}}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function n(t){return r!==!1&&(""===r?t:r+t.charAt(0).toUpperCase()+t.substr(1))}var o={},s=e.createElement("div").style,r=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,n=e.length;i<n;i++)if(t=e[i]+"ransform",t in s)return e[i].substr(0,e[i].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var i in e)t[i]=e[i]},o.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},o.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},o.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},o.momentum=function(t,e,n,o,s,r){var a,l,c=t-e,h=i.abs(c)/n;return r=void 0===r?6e-4:r,a=t+h*h/(2*r)*(c<0?-1:1),l=h/r,a<o?(a=s?o-s/2.5*(h/8):o,c=i.abs(a-t),l=c/h):a>0&&(a=s?s/2.5*(h/8):0,c=i.abs(t)+a,l=c/h),{destination:i.round(a),duration:l}};var a=n("transform");return o.extend(o,{hasTransform:a!==!1,hasPerspective:n("perspective")in s,hasTouch:"ontouchstart"in t,hasPointer:!(!t.PointerEvent&&!t.MSPointerEvent),hasTransition:n("transition")in s}),o.isBadAndroid=function(){var e=t.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var i=e.match(/Safari\/(\d+.\d)/);return!(i&&"object"==typeof i&&i.length>=2)||parseFloat(i[1])<535.19}return!1}(),o.extend(o.style={},{transform:a,transitionTimingFunction:n("transitionTimingFunction"),transitionDuration:n("transitionDuration"),transitionDelay:n("transitionDelay"),transformOrigin:n("transformOrigin")}),o.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},o.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},o.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return i.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,n=.4;return 0===t?0:1==t?1:n*i.pow(2,-10*t)*i.sin((t-e/4)*(2*i.PI)/e)+1}}}),o.tap=function(t,i){var n=e.createEvent("Event");n.initEvent(i,!0,!0),n.pageX=t.pageX,n.pageY=t.pageY,t.target.dispatchEvent(n)},o.click=function(i){var n,o=i.target;/(SELECT|INPUT|TEXTAREA)/i.test(o.tagName)||(n=e.createEvent(t.MouseEvent?"MouseEvents":"Event"),n.initEvent("click",!0,!0),n.view=i.view||t,n.detail=1,n.screenX=o.screenX||0,n.screenY=o.screenY||0,n.clientX=o.clientX||0,n.clientY=o.clientY||0,n.ctrlKey=!!i.ctrlKey,n.altKey=!!i.altKey,n.shiftKey=!!i.shiftKey,n.metaKey=!!i.metaKey,n.button=0,n.relatedTarget=null,n._constructed=!0,o.dispatchEvent(n))},o}();n.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=a.eventType[t.type]){var e;if(e=t.which?t.button:t.button<2?0:4==t.button?1:2,0!==e)return}if(this.enabled&&(!this.initiated||a.eventType[t.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var n,o=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,n=this.getComputedPosition(),this._translate(i.round(n.x),i.round(n.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=o.pageX,this.pointY=o.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,n,o,s,r=t.touches?t.touches[0]:t,l=r.pageX-this.pointX,c=r.pageY-this.pointY,h=a.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=l,this.distY+=c,o=i.abs(this.distX),s=i.abs(this.distY),!(h-this.endTime>300&&o<10&&s<10)){if(this.directionLocked||this.options.freeScroll||(o>s+this.options.directionLockThreshold?this.directionLocked="h":s>=o+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}l=this.hasHorizontalScroll?l:0,c=this.hasVerticalScroll?c:0,e=this.x+l,n=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+l/3:e>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+c/3:n>0?0:this.maxScrollY),this.directionX=l>0?-1:l<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,n),h-this.startTime>300&&(this.startTime=h,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),this.options.probeType>1&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,n,o=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),s=i.round(this.x),r=i.round(this.y),l=i.abs(s-this.startX),c=i.abs(r-this.startY),h=0,p="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,r),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&o<200&&l<100&&c<100)return void this._execEvent("flick");if(this.options.momentum&&o<300&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},n=this.hasVerticalScroll?a.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},s=e.destination,r=n.destination,h=i.max(e.duration,n.duration),this.isInTransition=1),this.options.snap){var u=this._nearestSnap(s,r);this.currentPage=u,h=this.options.snapSpeed||i.max(i.max(i.min(i.abs(s-u.x),1e3),i.min(i.abs(r-u.y),1e3)),300),s=u.x,r=u.y,this.directionX=0,this.directionY=0,p=this.options.bounceEasing}return s!=this.x||r!=this.y?((s>0||s<this.maxScrollX||r>0||r<this.maxScrollY)&&(p=a.ease.quadratic),void this.scrollTo(s,r,h,p)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||a.ease.circular,this.isInTransition=this.options.useTransition&&i>0;var o=this.options.useTransition&&n.style;!i||o?(o&&(this._transitionTimingFunction(n.style),this._transitionTime(i)),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,n,o,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=a.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,n===!0&&(n=i.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=i.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=n||0,r.top-=o||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=void 0===e||null===e||"auto"===e?i.max(i.abs(this.x-r.left),i.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,s)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=a.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&a.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var i=this;r(function(){"0.0001ms"===i.scrollerStyle[e]&&(i.scrollerStyle[e]="0s")})}if(this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=i.round(t),e=i.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(e){var i=e?a.removeEvent:a.addEvent,n=this.options.bindToWrapper?this.wrapper:t;i(t,"orientationchange",this),i(t,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,a.prefixPointerEvent("pointerdown"),this),i(n,a.prefixPointerEvent("pointermove"),this),i(n,a.prefixPointerEvent("pointercancel"),this),i(n,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,i,n=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[a.style.transform].split(")")[0].split(", "),e=+(n[12]||n[4]),i=+(n[13]||n[5])):(e=+n.left.replace(/[^-\d.]/g,""),i=+n.top.replace(/[^-\d.]/g,"")),{x:e,y:i}},_initIndicators:function(){function t(t){if(a.indicators)for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,r=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:o("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var l=r.length;l--;)this.indicators.push(new s(this,r[l]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,n,o,s,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r.options.snap||r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,n=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,n=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,n=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=n=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=n=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=n,n=0),this.options.snap)return o=this.currentPage.pageX,s=this.currentPage.pageY,e>0?o--:e<0&&o++,n>0?s--:n<0&&s++,void this.goToPage(o,s);o=this.x+i.round(this.hasHorizontalScroll?e:0),s=this.y+i.round(this.hasVerticalScroll?n:0),this.directionX=e>0?-1:e<0?1:0,this.directionY=n>0?-1:n<0?1:0,o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(o,s,0),this.options.probeType>1&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,n,o,s,r,a=0,l=0,c=0,h=this.options.snapStepX||this.wrapperWidth,p=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(n=i.round(h/2),o=i.round(p/2);c>-this.scrollerWidth;){for(this.pages[a]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[a][t]={x:i.max(c,this.maxScrollX),y:i.max(s,this.maxScrollY),width:h,height:p,cx:c-n,cy:s-o},s-=p,t++;c-=h,a++}else for(r=this.options.snap,t=r.length,e=-1;a<t;a++)(0===a||r[a].offsetLeft<=r[a-1].offsetLeft)&&(l=0,e++),this.pages[l]||(this.pages[l]=[]),c=i.max(-r[a].offsetLeft,this.maxScrollX),s=i.max(-r[a].offsetTop,this.maxScrollY),n=c-i.round(r[a].offsetWidth/2),o=s-i.round(r[a].offsetHeight/2),this.pages[l][e]={x:c,y:s,width:r[a].offsetWidth,height:r[a].offsetHeight,cx:n,cy:o},c>this.maxScrollX&&l++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=i.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.x-this.startX),1e3),i.min(i.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,o=this.pages.length,s=0;if(i.abs(t-this.absStartX)<this.snapThresholdX&&i.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);n<o;n++)if(t>=this.pages[n][0].cx){t=this.pages[n][0].x;break}for(o=this.pages[n].length;s<o;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return n==this.currentPage.pageX&&(n+=this.directionX,n<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),t=this.pages[n][0].x),s==this.currentPage.pageY&&(s+=this.directionY,s<0?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:n,pageY:s}},goToPage:function(t,e,n,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var s=this.pages[t][e].x,r=this.pages[t][e].y;n=void 0===n?this.options.snapSpeed||i.max(i.max(i.min(i.abs(s-this.x),1e3),i.min(i.abs(r-this.y),1e3)),300):n,this.currentPage={x:s,y:r,pageX:t,pageY:e},this.scrollTo(s,r,n,o)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(e){var i,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in n)this.options.keyBindings[i]=this.options.keyBindings[i]||n[i];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,n=this.options.snap,o=n?this.currentPage.pageX:this.x,s=n?this.currentPage.pageY:this.y,r=a.getTime(),l=this.keyTime||0,c=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(i.round(e.x),i.round(e.y)),this.isInTransition=!1),this.keyAcceleration=r-l<200?i.min(this.keyAcceleration+c,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=n?1:this.wrapperWidth:s+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=n?1:this.wrapperWidth:s-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=n?this.pages.length-1:this.maxScrollX,s=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,s=0;break;case this.options.keyBindings.left:o+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:s+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:s-=n?1:5+this.keyAcceleration>>0;break;default:return}if(n)return void this.goToPage(o,s);o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollY&&(s=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,s,0),this.keyTime=r}},_animate:function(t,e,i,n){function o(){var u,d,f,m=a.getTime();return m>=p?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(m=(m-h)/i,f=n(m),u=(t-l)*f+l,d=(e-c)*f+c,s._translate(u,d),s.isAnimating&&r(o),void(3==s.options.probeType&&s._execEvent("scroll")))}var s=this,l=this.x,c=this.y,h=a.getTime(),p=h+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},s.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var i=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,o,s=t.touches?t.touches[0]:t,r=a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,n=this.x+e,o=this.y+i,this._pos(n,o),1==this.scroller.options.probeType&&r-this.startTime>300?(this.startTime=r,this.scroller._execEvent("scroll")):this.scroller.options.probeType>1&&this.scroller._execEvent("scroll"),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||i.max(i.max(i.min(i.abs(this.scroller.x-n.x),1e3),i.min(i.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=a.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&a.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var i=this;r(function(){"0.0001ms"===i.indicatorStyle[e]&&(i.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=i.max(i.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=i.max(i.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&i.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&i.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=i.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=i.max(this.indicatorWidth-(t-this.maxPosX),8),
this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=i.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=i.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?i.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?i.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},n.utils=a,"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):t.IScroll=n}(window,document,Math),/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright 2015 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var r=e||window.event,a=l.call(arguments,1),c=0,p=0,u=0,d=0,f=0,m=0;if(e=t.event.fix(r),e.type="mousewheel","detail"in r&&(u=-1*r.detail),"wheelDelta"in r&&(u=r.wheelDelta),"wheelDeltaY"in r&&(u=r.wheelDeltaY),"wheelDeltaX"in r&&(p=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(p=-1*u,u=0),c=0===u?p:u,"deltaY"in r&&(u=-1*r.deltaY,c=u),"deltaX"in r&&(p=r.deltaX,0===u&&(c=-1*p)),0!==u||0!==p){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");c*=g,u*=g,p*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");c*=v,u*=v,p*=v}if(d=Math.max(Math.abs(u),Math.abs(p)),(!s||s>d)&&(s=d,n(r,d)&&(s/=40)),n(r,d)&&(c/=40,p/=40,u/=40),c=Math[c>=1?"floor":"ceil"](c/s),p=Math[p>=1?"floor":"ceil"](p/s),u=Math[u>=1?"floor":"ceil"](u/s),h.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=p,e.deltaY=u,e.deltaFactor=s,e.offsetX=f,e.offsetY=m,e.deltaMode=0,a.unshift(e,c,p,u),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,a)}}function i(){s=null}function n(t,e){return h.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120===0}var o,s,r=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(t.event.fixHooks)for(var c=r.length;c;)t.event.fixHooks[r[--c]]=t.event.mouseHooks;var h=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=a.length;i;)this.addEventListener(a[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",h.getLineHeight(this)),t.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=a.length;i;)this.removeEventListener(a[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),/*! Lity - v2.0.0 - 2016-09-09
* http://sorgalla.com/lity/
* Copyright (c) 2015-2016 Jan Sorgalla; Licensed MIT */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(i){return e(t,i)}):"object"==typeof module&&"object"==typeof module.exports?module.exports=e(t,require("jquery")):t.lity=e(t,t.jQuery||t.Zepto)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t){var e=k();return _&&t.length?(t.one(_,e.resolve),setTimeout(e.resolve,500)):e.resolve(),e.promise()}function n(t,i,n){if(1===arguments.length)return e.extend({},t);if("string"==typeof i){if("undefined"==typeof n)return"undefined"==typeof t[i]?null:t[i];t[i]=n}else e.extend(t,i);return this}function o(t){for(var e,i=decodeURI(t).split("&"),n={},o=0,s=i.length;o<s;o++)i[o]&&(e=i[o].split("="),n[e[0]]=e[1]);return n}function s(t,i){return t+(t.indexOf("?")>-1?"&":"?")+e.param(i)}function r(t){return e('<span class="lity-error"/>').append(t)}function a(t){var i=e('<img src="'+t+'"/>'),n=k(),o=function(){n.reject(r("Failed loading image"))};return i.on("load",function(){return 0===this.naturalWidth?o():void n.resolve(i)}).on("error",o),n.promise()}function l(t,i){var n,o,s;try{n=e(t)}catch(t){return!1}return!!n.length&&(o=e('<i style="display:none !important"/>'),s=n.hasClass("lity-hide"),i.element().one("lity:remove",function(){o.before(n).remove(),s&&!n.closest(".lity-content").length&&n.addClass("lity-hide")}),n.removeClass("lity-hide").after(o))}function c(t){var i=X.exec(t);return!!i&&u(s("https://www.youtube"+(i[2]||"")+".com/embed/"+i[4],e.extend({autoplay:1},o(i[5]||""))))}function h(t){var i=j.exec(t);return!!i&&u(s("https://player.vimeo.com/video/"+i[3],e.extend({autoplay:1},o(i[4]||""))))}function p(t){var e=Y.exec(t);return!!e&&u(s("https://www.google."+e[3]+"/maps?"+e[6],{output:e[6].indexOf("layer=c")>0?"svembed":"embed"}))}function u(t){return'<div class="lity-iframe-container"><iframe frameborder="0" allowfullscreen src="'+t+'"/></div>'}function d(){return T.documentElement.clientHeight?T.documentElement.clientHeight:Math.round(A.height())}function f(t){var e=b();e&&(27===t.keyCode&&e.close(),9===t.keyCode&&m(t,e))}function m(t,e){var i=e.element().find(H),n=i.index(T.activeElement);t.shiftKey&&n<=0?(i.get(i.length-1).focus(),t.preventDefault()):t.shiftKey||n!==i.length-1||(i.get(0).focus(),t.preventDefault())}function g(){e.each(E,function(t,e){e.resize()})}function v(t){1===E.unshift(t)&&(C.addClass("lity-active"),A.on({resize:g,keydown:f})),e("body > *").not(t.element()).addClass("lity-hidden").each(function(){var t=e(this);void 0===t.data(I)&&t.data(I,t.attr(P)||null)}).attr(P,"true")}function y(t){var i;t.element().attr(P,"true"),1===E.length&&(C.removeClass("lity-active"),A.off({resize:g,keydown:f})),E=e.grep(E,function(e){return t!==e}),i=E.length?E[0].element():e(".lity-hidden"),i.removeClass("lity-hidden").each(function(){var t=e(this),i=t.data(I);i?t.attr(P,i):t.removeAttr(P),t.removeData(I)})}function b(){return 0===E.length?null:E[0]}function S(t,i,n,o){var s,r="inline",a=e.extend({},n);return o&&a[o]?(s=a[o](t,i),r=o):(e.each(["inline","iframe"],function(t,e){delete a[e],a[e]=n[e]}),e.each(a,function(e,n){return!n||!(!n.test||n.test(t,i))||(s=n(t,i),!1!==s?(r=e,!1):void 0)})),{handler:r,content:s||""}}function w(t,o,s,r){function a(t){h=e(t).css("max-height",d()+"px"),c.find(".lity-loader").each(function(){var t=e(this);i(t).always(function(){t.remove()})}),c.removeClass("lity-loading").find(".lity-content").empty().append(h),h.find(H).first().focus(),u=!0,h.trigger("lity:ready",[p])}var l,c,h,p=this,u=!1,f=!1;o=e.extend({},z,o),c=e(o.template),p.element=function(){return c},p.opener=function(){return s},p.options=e.proxy(n,p,o),p.handlers=e.proxy(n,p,o.handlers),p.resize=function(){u&&!f&&h.css("max-height",d()+"px").trigger("lity:resize",[p])},p.close=function(){if(u&&!f){f=!0,y(p);var t=k();return r&&e.contains(c,T.activeElement)&&r.focus(),h.trigger("lity:close",[p]),c.removeClass("lity-opened").addClass("lity-closed"),i(h.add(c)).always(function(){h.trigger("lity:remove",[p]),c.remove(),c=void 0,t.resolve()}),t.promise()}},l=S(t,p,o.handlers,o.handler),c.attr(P,"false").addClass("lity-loading lity-opened lity-"+l.handler).appendTo("body").focus().on("click","[data-lity-close]",function(t){e(t.target).is("[data-lity-close]")&&p.close()}).trigger("lity:open",[p]),v(p),e.when(l.content).always(a)}function x(t,i,n){t.preventDefault?(t.preventDefault(),n=e(this),t=n.data("lity-target")||n.attr("href")||n.attr("src")):n=e(n);var o=new w(t,e.extend({},n.data("lity-options")||n.data("lity"),i),n,T.activeElement);if(!t.preventDefault)return o}var T=t.document,A=e(t),k=e.Deferred,C=e("html"),E=[],P="aria-hidden",I="lity-"+P,H='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^="-"])',z={handler:null,handlers:{image:a,inline:l,youtube:c,vimeo:h,googlemaps:p,iframe:u},template:'<div class="lity" role="dialog" aria-label="Dialog Window (Press escape to close)" tabindex="-1"><div class="lity-wrap" data-lity-close role="document"><div class="lity-loader" aria-hidden="true">Loading...</div><div class="lity-container"><div class="lity-content"></div><button class="lity-close" type="button" aria-label="Close (Press escape to close)" data-lity-close>&times;</button></div></div></div>'},$=/(^data:image\/)|(\.(png|jpe?g|gif|svg|webp|bmp|ico|tiff?)(\?\S*)?$)/i,X=/(youtube(-nocookie)?\.com|youtu\.be)\/(watch\?v=|v\/|u\/|embed\/?)?([\w-]{11})(.*)?/i,j=/(vimeo(pro)?.com)\/(?:[^\d]+)?(\d+)\??(.*)?$/,Y=/((maps|www)\.)?google\.([^\/\?]+)\/?((maps\/?)?\?)(.*)/i,_=function(){var t=T.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return e[i];return!1}();return a.test=function(t){return $.test(t)},x.version="2.0.0",x.options=e.proxy(n,x,z),x.handlers=e.proxy(n,x,z.handlers),x.current=b,e(T).on("click","[data-lity]",x),x});var simApp={win:$(window),body:$("body"),popup:$("#popup"),logo:$("header .logo"),notFirst:!1,isLoad:!1,isLock:!1,loadCallback:function(){simApp.body.addClass("page-load"),simApp.isLoad=!0},debug:!1,linksOff:!1,actSect:{prev:0,curr:1,next:2},setActSect:function(t){var e=parseInt(t);e>0&&(simApp.actSect.prev=e-1,simApp.actSect.curr=e,simApp.actSect.next=e+1)},iScrolls:[],bgImgs:[],patternImages:$(window).width()>2e3?["/images/none.jpg","/images/bg-1-big.jpg","/images/bg-2-big.jpg","/images/bg-3-big.jpg","/images/bg-4-big.jpg","/images/bg-5-big.jpg","/images/bg-6-big.jpg","/images/bg-21-big.jpg","/images/bg-22-big.jpg"]:["/images/none.jpg","/images/bg-1.jpg","/images/bg-2.jpg","/images/bg-3.jpg","/images/bg-4.jpg","/images/bg-5.jpg","/images/bg-6.jpg","/images/bg-21.jpg","/images/bg-22.jpg"]},drawImage={circ:2*Math.PI,pi:Math.PI,cnvImg:{$el:$("#cnv1img"),_el:document.getElementById("cnv1img"),ctx:document.getElementById("cnv1img").getContext("2d"),lineWidth:0,cntSect:12,curPerc:1e-4,size:{w:0,h:0},cent:{x:0,y:0}},callback:null,pat:null,arrKoors:[],arrRotate:[],circParams:[{smeshenie:11,delimiter:-(Math.PI/10)},{smeshenie:9,delimiter:-(Math.PI/20)},{smeshenie:7,delimiter:Math.PI/8},{smeshenie:5,delimiter:-(Math.PI/9)},{smeshenie:3,delimiter:-(Math.PI/30)},{smeshenie:1,delimiter:Math.PI/12},{smeshenie:-1,delimiter:-(Math.PI/7)},{smeshenie:-3,delimiter:Math.PI/4},{smeshenie:-5,delimiter:-(Math.PI/10)},{smeshenie:-7,delimiter:Math.PI/30}],easeInOut:function(t,e,i,n){var o=(t/=n)*t,s=o*t;return e+i*(-3.1*s*o+-3.7075*o*o+22.4*s+-23.195*o+8.5975*t)},oneCircle:function(t,e,i,n,o,s,r){var a=this;e>0&&(t.ctx.beginPath(),t.ctx.arc(t.cent.x,t.cent.y,e,i,n,o),t.ctx.lineWidth=r,t.ctx.lineCap="round",s&&"none"!==s?t.ctx.strokeStyle=s:t.ctx.strokeStyle=a.pat,t.ctx.stroke())},oneStep:function(t,e,i,n,o,s){var r=this;e>0&&(t.ctx.beginPath(),t.ctx.arc(t.cent.x,t.cent.y,e,i,n,o),t.ctx.lineWidth=t.lWidth,t.ctx.lineCap="round",s&&"none"!==s?t.ctx.strokeStyle=s:t.ctx.strokeStyle=r.pat,t.ctx.stroke())},scale:function(t,e){t+=1,simApp.win.width()<760&&(t+=1);var i=this,n=i.cnvImg,o=i.easeInOut(t,0,n.lineWidth,n.lineWidth),s=function(e){var o=n.lineWidth*e;return i.easeInOut(t,0,n.lineWidth+o,n.lineWidth+o)-o},r=[s(.9),s(.3),s(1.3),s(.5),s(.8),s(1.5),s(.2),s(1),s(.4),s(.1)];n.ctx.clearRect(0,0,n.size.w,n.size.h);for(var a=0,l=r.length;a<l;a++){var c=r[a],h=i.circParams[a],p=c>1?c:1;i.oneCircle(n,n.size.w-n.lineWidth*(11-a)+h.smeshenie,0+h.delimiter,i.circ*n.curPerc+h.delimiter,!1,"#2e3192",p)}i.oneCircle(n,n.size.w-4*n.lineWidth-2,0,i.circ*n.curPerc,!1,"none",o),i.oneCircle(n,n.size.w-2*n.lineWidth-6,0-i.pi/12,i.circ*n.curPerc-i.pi/12,!1,"none",o);var u=7;simApp.win.width()<1280?u=5:simApp.win.width()<1440&&(u=6),i.oneCircle(n,n.size.w,-(i.pi/u),i.circ*n.curPerc-i.pi/u,!1,"#ff931e",o),i.oneCircle(n,n.size.w,i.pi/u,i.circ*n.curPerc+i.pi/u,!1,"#ff931e",o),t<n.lineWidth?requestAnimationFrame(function(){i.scale(t,e)}):e()},circle:function(t){var e=this,i=839e-6,n=e.cnvImg,o=n.curPerc,s=1.75*n.curPerc,r=n.curPerc/1.6,a=n.curPerc/3,l=e.circ*o*4.4,c=e.circ*s,h=e.circ*a,p=n.curPerc<.1?e.circ*r:.1*e.circ;t&&n.ctx.clearRect(0,0,n.size.w,n.size.h);for(var u=0,d=e.circParams.length;u<d;u++){var f=e.circParams[u];e.oneStep(n,n.size.w-n.lineWidth*(11-u)+f.smeshenie,-l+f.delimiter,l+f.delimiter,!1,"#2e3192"),e.arrKoors[u]={radius:n.size.w-n.lineWidth*(11-u)+f.smeshenie,from:-l+f.delimiter,to:l+f.delimiter}}e.oneStep(n,n.size.w-4*n.lineWidth-2,-p,p,!1),e.arrRotate[0]={radius:n.size.w-4*n.lineWidth-2,from:-p,to:p,color:"none"};var m=-c/1.33-e.pi/12,g=1.33*c-e.pi/12;e.oneStep(n,n.size.w-2*n.lineWidth-6,m,g,!1),e.arrRotate[1]={radius:n.size.w-2*n.lineWidth-6,from:m,to:g,color:"none"};var v=7;simApp.win.width()<1280?v=5:simApp.win.width()<1440&&(v=6);var y=-h-e.pi/v,b=h-e.pi/v;e.oneStep(n,n.size.w,y,b,!1,"#ff931e"),e.arrRotate[2]={radius:n.size.w,from:y,to:b,color:"#ff931e"};var S=-h+e.pi/v,w=h+e.pi/v;e.oneStep(n,n.size.w,S,w,!1,"#ff931e"),e.arrRotate[3]={radius:n.size.w,from:S,to:w,color:"#ff931e"},n.curPerc+=i,simApp.win.width()<760&&(n.curPerc+=i),n.curPerc<100*i?requestAnimationFrame(function(){e.circle(n.curPerc)}):e.callback()},rotateOut:function(t,e,i){var n=t.out,o=t.dir,s=null,r=2;simApp.win.width()<760&&(r=4),o?(n[0]=n[0]+r,s=n[0]<n[1]):(n[0]=n[0]-r,s=n[0]>n[1]);var a=this,l=a.cnvImg,c=n[0]/30;l.ctx.clearRect(0,0,l.size.w,l.size.h);for(var h=0,p=a.arrKoors.length;h<p;h++){var u=a.arrKoors[h];a.oneStep(l,u.radius,u.from,u.to,!1,"#2e3192")}a.oneStep(l,a.arrRotate[0].radius,a.arrRotate[0].from-c,a.arrRotate[0].to-c,!1,a.pat),a.oneStep(l,a.arrRotate[1].radius,a.arrRotate[1].from-c,a.arrRotate[1].to-c,!1,a.pat),a.oneStep(l,a.arrRotate[2].radius,a.arrRotate[2].from,a.arrRotate[2].to,!1,a.arrRotate[2].color),a.oneStep(l,a.arrRotate[3].radius,a.arrRotate[3].from,a.arrRotate[3].to,!1,a.arrRotate[3].color),s?requestAnimationFrame(function(){a.rotateOut(t,e,i)}):(a.setPattern(simApp.bgImgs[e]),a.rotateIn(t,i))},rotateIn:function(t,e){var i=t["in"],n=t.dir,o=null,s=2;simApp.win.width()<760&&(s=4),n?(i[0]=i[0]+s,o=i[0]<i[1]):(i[0]=i[0]-s,o=i[0]>i[1]);var r=this,a=r.cnvImg,l=i[0]/30;a.ctx.clearRect(0,0,a.size.w,a.size.h);for(var c=0,h=r.arrKoors.length;c<h;c++){var p=r.arrKoors[c];r.oneStep(a,p.radius,p.from,p.to,!1,"#2e3192")}r.oneStep(a,r.arrRotate[0].radius,r.arrRotate[0].from-l,r.arrRotate[0].to-l,!1,r.pat),r.oneStep(a,r.arrRotate[1].radius,r.arrRotate[1].from-l,r.arrRotate[1].to-l,!1,r.pat),r.oneStep(a,r.arrRotate[2].radius,r.arrRotate[2].from,r.arrRotate[2].to,!1,r.arrRotate[2].color),r.oneStep(a,r.arrRotate[3].radius,r.arrRotate[3].from,r.arrRotate[3].to,!1,r.arrRotate[3].color),o?requestAnimationFrame(function(){r.rotateIn(t,e)}):e()},rotateFunc:function(t,e){var i=this,n=parseInt(t[0]),o=parseInt(t[1]),s=!(n<o),r={out:[0,50],"in":[-50,0],dir:!0};s&&(r={out:[0,-50],"in":[50,0],dir:!1}),i.setPattern(simApp.bgImgs[n]),i.pat=i.cnvImg.ctx.createPattern(simApp.bgImgs[n],"repeat"),i.rotateOut(r,o,e)},setPattern:function(t){var e=this;e.pat=e.cnvImg.ctx.createPattern(t,"repeat")},init:function(t,e){var i=this,n=i.cnvImg;i.callback=e,n.size={w:n.$el.width(),h:n.$el.height()},n.lineWidth=Math.round(n.size.w/n.cntSect),n.cent={x:-n.size.w/(2*n.cntSect)-10,y:n.size.h/2},n._el.width=n.size.w,n._el.height=n.size.h,n.ctx.lineWidth=0,i.setPattern(t),n.ctx.strokeStyle=i.pat,setTimeout(function(){i.scale(0,function(){i.circle()})},500)},resize:function(){var t=this,e=t.cnvImg;e.size={w:e.$el.width(),h:e.$el.height()},e.lineWidth=Math.round(e.size.w/e.cntSect),e.cent={x:-e.size.w/(2*e.cntSect)-10,y:e.size.h/2},e._el.width=e.size.w,e._el.height=e.size.h,e.ctx.clearRect(0,0,e.size.w,e.size.h),e.ctx.beginPath(),e.ctx.arc(e.cent.x,e.cent.y,100,-(t.circ*e.curPerc),t.circ*e.curPerc,!1),e.ctx.lineWidth=Math.round(e.size.w/e.cntSect),e.ctx.lineCap="round",e.ctx.stroke(),e.ctx.clearRect(0,0,e.size.w,e.size.h);for(var i=e.curPerc,n=1.75*e.curPerc,o=e.curPerc/1.6,s=e.curPerc/3,r=t.circ*i*4.4,a=t.circ*n,l=t.circ*s,c=e.curPerc<.1?t.circ*o:.1*t.circ,h=Math.round(e.size.w/e.cntSect),p=0,u=t.circParams.length;p<u;p++){var d=t.circParams[p];t.oneStep(e,e.size.w-h*(11-p)+d.smeshenie,-r+d.delimiter,r+d.delimiter,!1,"#2e3192"),t.arrKoors[p]={radius:e.size.w-h*(11-p)+d.smeshenie,from:-r+d.delimiter,to:r+d.delimiter}}t.oneStep(e,e.size.w-4*h-2,-c,c,!1),t.arrRotate[0]={radius:e.size.w-4*h,from:-c,to:c,color:"none"};var f=-a/1.33-t.pi/12,m=1.33*a-t.pi/12;t.oneStep(e,e.size.w-2*h-6,f,m,!1),t.arrRotate[1]={radius:e.size.w-2*h,from:f,to:m,color:"none"};var g=7;simApp.win.width()<1280?g=5:simApp.win.width()<1440&&(g=6);var v=-l-t.pi/g,y=l-t.pi/g;t.oneStep(e,e.size.w,v,y,!1,"#ff931e"),t.arrRotate[2]={radius:e.size.w,from:v,to:y,color:"#ff931e"};var b=-l+t.pi/g,S=l+t.pi/g;t.oneStep(e,e.size.w,b,-S,!1,"#ff931e"),t.arrRotate[3]={radius:e.size.w,from:b,to:S,color:"#ff931e"}},load:function(t,e){var i=this,n=simApp.patternImages[0],o=function(t,o){simApp.bgImgs[t]=new Image,o&&(simApp.bgImgs[t].onload=function(){i.init(simApp.bgImgs[t],e)}),simApp.bgImgs[t].onerror=function(){simApp.bgImgs[t].src=n},simApp.bgImgs[t].src=simApp.patternImages[t]};o(t,!0);for(var s=0,r=simApp.patternImages.length;s<r;s++)s!=t&&o(s,!1)}};simApp.loading=function(){$.get("/svg.html",function(t){$("body").append(t)});var t=3,e=-15;$(window).width()<480&&(t=2),$(window).width()<1441&&(e=15),$(window).width()<1281&&(e=5);for(var i=new google.maps.LatLng(30,e),n=[{x:50.4019514,y:30.3926096,point:!1},{x:41.732438,y:44.7688135,point:!1},{x:41.2825761,y:69.2093272,point:!1},{x:38.5613029,y:68.7115414,point:!1},{x:42.8768536,y:74.5218215,point:!1},{x:8.4543951,y:-13.2586661,point:!1},{x:6.8160657,y:-5.3161554,point:!1},{x:.3138386,y:32.5290854,point:!1},{x:9.6854541,y:-80.8293004,point:!1},{x:14.7323917,y:-17.4581594,point:!1},{x:49.2385607,y:-123.1822759,point:!1},{x:-15.416819,y:28.273713,point:!1},{x:52.3745913,y:4.8285751,point:!0},{x:40.3945713,y:49.7849201,point:!0},{x:55.7494733,y:37.35232,point:!0},{x:47.4811282,y:18.9902216,point:!0},{x:9.0543271,y:7.3243168,point:!0},{x:5.5912077,y:-.214749,point:!0}],o=[{featureType:"all",elementType:"geometry.fill",stylers:[{color:"#f7f7f7"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{elementType:"labels.text.fill",stylers:[{color:"#aaaaaa"}]},{elementType:"labels.text.stroke",stylers:[{weight:.4}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#aaaaaa"},{lightness:25},{weight:1}]},{featureType:"landscape",elementType:"geometry.stroke",stylers:[{weight:.3}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#efefef"}]}],s={center:i,smooth:!0,scrollwheel:!1,zoom:t,mapTypeControl:!1,streetViewControl:!1,zoomControl:!1,styles:o},r=new google.maps.Map(document.getElementById("map"),s),a="/images/marker.png",l="/images/marker-cir.png",c=[],h=function(t,e){setTimeout(function(){var e=new google.maps.LatLng(t.x,t.y),i=new google.maps.Marker({map:r,position:e,animation:google.maps.Animation.DROP,icon:t.point?a:l});c.push(i)},e)},p=0,u=n.length;p<u;p++)h(n[p],150*p);simApp.body.on("click",".menu-btn",function(){simApp.isLock=!simApp.isLock,simApp.body.toggleClass("open-menu")}).on("mousedown",".str",function(){var t=simApp.actSect.curr,e=simApp.iScrolls[t],i=e.maxScrollX,n=$(this).parents(".sec-inn-block").next().position().left;simApp.debug&&console.log("i.str",n,i),n>-i&&(n=-i),e.scrollTo(-n,0,800,IScroll.utils.ease.quadratic)}).on("click","#popVidOpen",function(){var t=$(this).attr("href");return $("#popVid .popup-inn").html('<button type="button" class="popup-close">Close</button><iframe src="'+t+'" frameborder="0" allowfullscreen></iframe>'),$("#popVid").addClass("show"),!1}).on("click","#popVid .popup-close,#popVid .popup-bg",function(){$("#popVid .popup-inn iframe").remove(),$("#popVid").removeClass("show")}).on("click",".scrlLeft",function(){var t=simApp.actSect.curr,e=simApp.iScrolls[t],i=e.maxScrollX,n=e.x-$(window).width()/2,o=$(this);"false"==o.attr("data-back")?(n<i&&(n=i),e.scrollTo(n,0,500,IScroll.utils.ease.quadratic)):e.scrollTo(0,0,800,IScroll.utils.ease.quadratic)}),simApp.popup.on("click",".popup-close,.popup-bg",function(){$("#popup").removeClass("show"),simApp.router.goTo("/company/our-team")}).on("click",".popup-next",function(){var t=$(".team-one[data-one].active").next().attr("href");simApp.router.goTo(t)}).on("click",".popup-prev",function(){var t=$(".team-one[data-one].active").prev().attr("href");simApp.router.goTo(t)})},simApp.scroll=function(){simApp.debug&&console.info("scroll app");var t=simApp.win.scrollTop();simApp.win.height();t>0?simApp.body.addClass("fix-head"):simApp.body.removeClass("fix-head")},simApp.menuItems=[],$(".head-menu li").each(function(t,e){simApp.menuItems[t]={_el:$(e),left:$(e).offset().left}}),simApp.innerScroll=function(){var t=simApp.actSect.curr,e=simApp.iScrolls[t],i=e.x;$('.section[data-section="'+t+'"] [data-anim]').each(function(t,e){var n=$(e).parent(),o=$(e).position().left,s=0-i+.85*simApp.win.width();n.hasClass("sec-inn")||(n.hasClass("team-wrap")?(o+=parseInt(n.parent().css("margin-left")),s=0-i+simApp.win.width()):o+=1.2*n.position().left),o<s?$(e).attr("data-anim","true"):$(e).attr("data-anim","false")}),e.maxScrollX>i-20?($('.section[data-section="'+t+'"] [data-anim]').attr("data-anim","true"),$(".scrlLeft").attr("data-back","true")):$(".scrlLeft").attr("data-back","false"),i<0?($(".main-bg").css({left:i}),setTimeout(function(){if($(".head-menu li").removeClass("white"),2==t){var e=1*simApp.win.width();"team"==$(".section.active .sec-inn").attr("data-page")&&(e=5*simApp.win.width()),-i>.2*simApp.win.width()&&-i<e?simApp.body.hasClass("dark")||simApp.body.addClass("dark"):simApp.body.removeClass("dark");var n=1*simApp.win.width()+i;"team"==$(".section.active .sec-inn").attr("data-page")&&(n=100*simApp.win.width()+i),"careers"==$(".section.active .sec-inn").attr("data-page")&&(n=1*simApp.win.width()+i);for(var o=0,s=simApp.menuItems.length;o<s;o++){var r=simApp.menuItems[o]._el,a=simApp.menuItems[o].left;a>n?r.hasClass("white")||r.addClass("white"):r.removeClass("white")}}if(3==t){-i>.2*simApp.win.width()&&-i<.885*simApp.win.width()?simApp.body.hasClass("dark")||simApp.body.addClass("dark"):simApp.body.removeClass("dark"),-i>1.1*simApp.win.width()?simApp.body.hasClass("dark-menu")||simApp.body.addClass("dark-menu"):simApp.body.removeClass("dark-menu"),-i>1.68*simApp.win.width()?simApp.body.hasClass("dark-copy")||simApp.body.addClass("dark-copy"):simApp.body.removeClass("dark-copy");for(var n=1*simApp.win.width()+i,o=0,s=simApp.menuItems.length;o<s;o++){var r=simApp.menuItems[o]._el,a=simApp.menuItems[o].left;a>n?r.hasClass("white")||r.addClass("white"):r.removeClass("white")}}if(4==t&&(-i>.2*simApp.win.width()?simApp.body.hasClass("dark")||simApp.body.addClass("dark"):simApp.body.removeClass("dark")),5==t&&(-i>.2*simApp.win.width()?simApp.body.hasClass("dark")||simApp.body.addClass("dark"):simApp.body.removeClass("dark")),6==t){-i>.2*simApp.win.width()&&-i<.92*simApp.win.width()?simApp.body.hasClass("dark")||simApp.body.addClass("dark"):simApp.body.removeClass("dark");for(var n=1.03*simApp.win.width()+i,o=0,s=simApp.menuItems.length;o<s;o++){var r=simApp.menuItems[o]._el,a=simApp.menuItems[o].left;a>n?r.hasClass("white")||r.addClass("white"):r.removeClass("white")}}},0)):($(".main-bg").css({left:0}),simApp.body.removeClass("dark dark-menu dark-copy"))},simApp.resize=function(){simApp.debug&&console.info("resize app"),drawImage.resize(),setTimeout(function(){simApp.seePercentSizes(),$(".head-menu li").each(function(t,e){simApp.menuItems[t]={_el:$(e),left:$(e).offset().left}})},150)},simApp.seePercentSizes=function(){var t=$(window).width(),e=!0,i=simApp.actSect.curr,n=simApp.iScrolls[i];$("#isTablet").is(":visible"),$("#isMobile").is(":visible"),e?($("[data-margin-left]:not(.main-bg)").each(function(e,i){var n=$(i),o=parseFloat(n.attr("data-margin-left"))/100,s=parseFloat(t*o);n.css({"margin-left":s})}),$("[data-width]").each(function(e,i){var n=$(i),o=parseFloat(n.attr("data-width"))/100,s=parseFloat(t*o);n.css({width:s})}),$("[data-left]:not(.main-bg)").each(function(e,i){var n=$(i),o=parseFloat(n.attr("data-left"))/100,s=parseFloat(t*o);n.css({left:s})})):$("[data-margin-left]:not(.main-bg),[data-width],[data-left]:not(.main-bg)").removeAttr("style"),setTimeout(function(){n.refresh()},50)},simApp.showSection=function(t){if(simApp.debug&&console.info("showSection",t),t>0){simApp.linksOff=!0;var e=0;if(simApp.actSect.curr){var i=simApp.iScrolls[simApp.actSect.curr];i.x&&(e=parseInt((0-i.x)/4),i.scrollTo(0,0,e,IScroll.utils.ease.quadratic))}setTimeout(function(){simApp.body.removeClass("dark dark-menu dark-copy"),simApp.setActSect(t),simApp.iScrolls[t]&&simApp.iScrolls[t].refresh(),simApp.debug&&console.log(simApp.actSect),$(".main-bg img[data-page]").removeClass("active"),$(".main-bg img[data-page="+t+"]").addClass("active"),$("section[data-section]").each(function(e,i){var n=$(i),o=n.data("section");n.removeClass("showed"),o!=simApp.actSect.prev&&o!=simApp.actSect.curr&&o!=simApp.actSect.next||n.addClass("showed"),o>t?n.addClass("to-bot").removeClass("active to-top"):o<t?n.addClass("to-top").removeClass("active to-bot"):n.addClass("active").removeClass("to-top to-bot")}),$("body").attr("data-section",t),$("nav a,.logo").removeClass("active"),$('header a[data-section="'+t+'"]').addClass("active"),simApp.linksOff=!1},e),setTimeout(function(){simApp.innerScroll()},500)}else simApp.showSection(1)},simApp.showCompanyPage=function(t){if("team"==t);else if("careers"==t);else if("index"!=t)return!1;var e=simApp.iScrolls[simApp.actSect.curr],i=$('.section[data-section="2"] .sec-inn'),n=i.attr("data-page");if(n==t)return void(simApp.debug&&console.warn('page "'+n+'" is load'));var o=$('.section[data-section="2"] .sec-bg [data-left-'+t+"]");if(o.each(function(e,i){var n=$(i).attr("data-left-"+t);"none"==n?$(i).hide():$(i).show().attr("data-left",n)}),e){e.scrollTo(0,0,200,IScroll.utils.ease.quadratic);var s=!1,r=!1,a=i.html(),l=function(){$.get("/api/company/"+t).done(function(t){a=t}).fail(function(){console.warn("page not load: /api/company/"+t)}).always(function(){r=!0,s&&simApp.showOnePage(t,a)})},c=function(e){l(),setTimeout(function(){s=!0,r&&simApp.showOnePage(t,a)},e)};simApp.hideOnePage(c)}},simApp.showOnePage=function(t,e){var i=2,n=$('.section[data-section="'+i+'"]'),o=350,s=n.find(".sec-inn");s.html(e),setTimeout(function(){var e=n.find(".sec-inn > *"),r=e.length,a=(r+1)*o;e.each(function(t,e){var n=t*o,s=$(e);setTimeout(function(){s.hasClass("isAjax")?s.fadeIn(o,function(){simApp.innerScroll()}):s.fadeIn(0),simApp.iScrolls[i].refresh()},n)}),setTimeout(function(){simApp.iScrolls[i].refresh(),simApp.innerScroll()},a),simApp.seePercentSizes(),s.attr("data-page",t)},0)},simApp.hideOnePage=function(t){var e=2,i=100,n=$('.section[data-section="'+e+'"]'),o=n.find(".sec-inn > *"),s=o.length,r=(s+1)*i;return o.each(function(t,e){var n=(s-t)*i,o=$(e);setTimeout(function(){o.hasClass("isAjax")?(o.find("[data-anim]").attr("data-anim","false"),o.fadeOut(i)):o.attr("data-anim","false")},n)}),setTimeout(function(){simApp.iScrolls[e].refresh()},r),t(r)},simApp.router=function(){function t(){$("body").on("click","a[data-nav]",function(t){if(!simApp.isLoad||simApp.linksOff)return!1;var i=$(this).attr("href"),n=$(this).attr("data-nav");parseInt($(this).data("section"))||!1;return simApp.body.removeClass("open-menu"),simApp.isLock=!1,s="popup"==n,e(i),!1}),o(),a.start()}function e(t){simApp.debug&&console.info("navigate("+t+")"),a.navigate(t)}function i(t,e,i){simApp.notFirst?t!=e&&drawImage.rotateFunc([t,e],i):(drawImage.load(e,simApp.loadCallback),simApp.notFirst=!0)}function n(t,e,i,n){var o,s=window.location.href;o="<title>"+t+'</title><meta name="description" content="'+e+'"/><meta name="keywords" content="'+i+'"/><meta property="og:title" content="'+t+'"/><meta property="og:url" content="'+s+'" /><meta property="og:description" content="'+e+'"/><meta property="og:image" content="'+n+'" /><link rel="image_src" href="'+n+'" / ><meta property="og:image:secure_url" content="'+n+'"/>',$("html head").find('title, [name="description"], [name="keywords"], [property="og:title"], [property="og:url"], [property="og:description"], [property="og:image"], [property="og:image:secure_url"], [rel="image_src"] ').remove(),$("html head").prepend(o)}function o(){var t=this.compInner;a.route("/",function(){var e="/api/";simApp.debug&&console.log("load page: ",e);var o=t?t:simApp.actSect.curr;t=!1,i(o,1,function(){}),simApp.showSection(),n("Simbrella | Home","Simbrella | Home","Simbrella | Home","//sim.spongeservice.com.ua/css/img/logo.png"),setTimeout(function(){$("#cnv1img").parent().animate({"margin-left":0},400)},800)}),a.route("/*path",function(e){var n=e.split("/"),o=n[0];return"careers"==n[1]||"our-team"==n[1]?$('.head-menu a[data-section="2"]').addClass("hovered"):$('.head-menu a[data-section="2"]').removeClass("hovered"),"our-team"==n[1]&&2==simApp.actSect.curr?(n[2]||7===t||i(2,7,function(){}),t=7,!1):"careers"==n[1]&&2==simApp.actSect.curr?(i(2,8,function(){}),t=8,!1):($(".head-menu a").each(function(e,n){var s=$(n),r=s.attr("data-section");if(r>0&&s.attr("href").indexOf(o)>0){var a=0,l=simApp.actSect.curr;1==l&&(a=400,$("#cnv1img").parent().animate({"margin-left":-(.16*$(window).width())},400)),setTimeout(function(){var e=l;t&&(e=t,t=!1),i(e,r,function(){}),simApp.showSection(r)},a)}}),void("our-team"!==n[1]&&$("#popup").removeClass("show")))}),a.route("/company",function(){simApp.showCompanyPage("index"),n("Simbrella | Company","Simbrella | Company","Simbrella | Company","//sim.spongeservice.com.ua/css/img/logo.png")}),a.route("/company/our-team",function(){simApp.showCompanyPage("team"),n("Simbrella | Our team","Simbrella | Our team","Simbrella | Our team","//sim.spongeservice.com.ua/css/img/logo.png"),$("#popup").removeClass("show")}),a.route("/company/our-team/:one",function(t){simApp.showCompanyPage("team");var e=0;$('.team-one[data-one="'+t+'"]').length||(e=2500),setTimeout(function(){var e=(simApp.iScrolls[simApp.actSect.curr],$('.team-one[data-one="'+t+'"]'));if(e.length){var i=e.find(".team-tit").text(),o=e.find(".team-txt").html(),s=e.find(".team-status").html(),r=e.find(".team-txt").attr("data-link"),a=e.find(".team-txt").attr("data-img"),l=$(".team-one[data-one]").length,c=e.index();-e.position().left;n("Simbrella | Our team - "+i,"Simbrella | Our team - "+i,"Simbrella | Our team - "+i,"//sim.spongeservice.com.ua/css/img/logo.png"),$(".team-one[data-one]").removeClass("active"),e.addClass("active"),c>0?simApp.popup.find(".popup-prev").show():simApp.popup.find(".popup-prev").hide(),c+1<l?simApp.popup.find(".popup-next").show():simApp.popup.find(".popup-next").hide();var h=new Image;h.onload=function(){simApp.popup.find(".popup-img > img").attr("src",a),simApp.popup.find(".popup-name").attr("href",r),simApp.popup.find(".popup-name").html(i),simApp.popup.find(".popup-desc").html(o),simApp.popup.find(".popup-status").html(s),simApp.popup.addClass("show")},h.src=a}},e)}),a.route("/company/careers",function(){simApp.showCompanyPage("careers"),n("Simbrella | Careers","Simbrella | Careers","Simbrella | Careers","//sim.spongeservice.com.ua/css/img/logo.png")}),a.route("/products",function(){n("Simbrella | Products","Simbrella | Products","Simbrella | Products","//sim.spongeservice.com.ua/css/img/logo.png")}),a.route("/country",function(){n("Simbrella | Countries of operations","Simbrella | Countries of operations","Simbrella | Countries of operations","//sim.spongeservice.com.ua/css/img/logo.png")}),a.route("/clients",function(){n("Simbrella | Clients","Simbrella | Clients","Simbrella | Clients","//sim.spongeservice.com.ua/css/img/logo.png")}),a.route("/contact",function(){n("Simbrella | Contact","Simbrella | Contact","Simbrella | Contact","//sim.spongeservice.com.ua/css/img/logo.png")})}var s=!1,r=!0,a=("/api"+window.location.pathname,new Router);return{init:function(){t()},goTo:function(t){e(t)},goBack:function(t){r?e($(".logo").attr("href")):a.go(t)}}}(),simApp.init=function(){simApp.debug&&console.info("init app");$("section[data-section]").each(function(t,e){var i=$(e).attr("data-section"),n='section[data-section="'+i+'"]';simApp.iScrolls[i]=new IScroll(n,{mouseWheel:!1,bounce:!1,eventPassthrough:!0,scrollX:!0,scrollY:!1,preventDefault:!1,probeType:3,disableMouse:!0}),setTimeout(function(){simApp.iScrolls[i].on("scroll",simApp.innerScroll)},0)}),simApp.seePercentSizes(),simApp.showSection(),$("body").keydown(function(t){if(simApp.isLoad&&!simApp.isLock){var e=simApp.actSect.curr,i=simApp.iScrolls[simApp.actSect.curr],n=i.maxScrollX,o=200,s=500;switch(t.keyCode){case 27:$("#popup").hasClass("show")&&$("#popup .popup-close").click();break;case 37:if(1==e)return;var r=i.x+s<0?i.x+s:0;if(r==i.x)return;i.scrollTo(r,0,o,IScroll.utils.ease.quadratic);break;case 39:if(1==e)return;var r=i.x-s>n?i.x-s:n;if(r==i.x)return;i.scrollTo(r,0,o,IScroll.utils.ease.quadratic);break;case 38:if(1==e)return;$('.head-inner a[data-section="'+simApp.actSect.prev+'"]').click();break;case 40:if(6==e)return;$('.head-inner a[data-section="'+simApp.actSect.next+'"]').click()}}}),$("body").mousewheel(function(t){if(!simApp.isLoad||simApp.isLock||simApp.popup.hasClass("show"))return!1;var e=t.deltaY>0,i=simApp.iScrolls[simApp.actSect.curr],n=i.maxScrollX,o=150,s=300;if(navigator.userAgent.indexOf("Mac")!=-1&&(o=50,s=120),e){var r=i.x+s<0?i.x+s:0;if(r==i.x)return;i.scrollTo(r,0,o,IScroll.utils.ease.quadratic),i.refresh()}else{var r=i.x-s>n?i.x-s:n;if(r==i.x)return;i.scrollTo(r,0,o,IScroll.utils.ease.quadratic),i.refresh()}}),simApp.router.init(),$(window).on("load",function(){simApp.scroll(),simApp.loading()}).on("scroll",function(){simApp.scroll()}).on("resize",function(){simApp.resize()})}();